# 前端考试题

## 一、选择题

### 1、代码中v-for的使用正确吗？（5分）

**A、正确** 

**B、错误**

```
<ul>
  <li v-for="item in items">...</li>
</ul>
```

>答案：B
>
>解析：v-for使用的时候，必须要绑定key，否则会曝出警告

### 2、Vue正确的生命周期顺序是？（1分）

**A、beforeCreate----created----beforeUpdate----updated----mounted**

**B、beforeCreate----created----updated----mounted----destroyed**

**C、beforeCreate----created----beforeMount----updated----mounted**

**D、beforeCreate----created----beforeMount----mounted----destroyed**

>答案：D
>
>解析：正确的顺序是beforeCreate----created----beforeMount----mounted----beforeUpdate----updated----beforeDestroy----destroyed
>
>mounted方法之后，当data被修改时，会触发beforeUpdate方法

### 3、以下代码正确吗？（1分）

**A、正确**

**B、错误**

```
const userName = '张三';
const userName = '李四';
```

> 答案：B
>
> 解析：const 用来定义常量，不能重复定义;

### 4、用于监听 DOM 事件的指令是？（1分）

**A、v-on**

**B、v-model**

**C、v-bind**

**D、v-html**

>答案：A

### 5、以下选项中不可以进行路由跳转的是？（2分）

**A、push()**

**B、replace()**

**C、route-link**

**D、jump()**

> 答案：D

###  6、以下获取路由{ path:  '/user/:id' }中id的值正确的是？（2分）

**A、this.$route.query.id**

**B、this.$route.params.id**

**C、this.$router.query.id**

**D、this.$router.params.id**

> 答案：B
>
> 解析：此路由为动态路由，应该通过params.id来获取，this.$router获取的是全局路由实例

### 7、以下代码正确吗？(2分)

**A、正确**

**B、错误**

```
new Vue({
	data() {
		return {
			name: '张三',
			tableData: [{name: '张三', code: 'zhangsan'}, {name: '李四', code: 'lisi'}]
		};
	},
	computed: {
		tableDataFilter() {
			return _.filter(this.tableData, function(e) {
				return e.name !== this.name;
			});
		}
	}
});
```

>答案：B
>
>解析：计算属性，_.filter方法第二个参数绑定的函数中，this指向会有问题

### 8、以下写法好不好？(2分)

**A、好**

**B、不好**

```
<ul>
  <li v-for="user in users" v-if="user.isActive" :key="user.id">
  {{ user.name }}
  </li>
</ul>
```

>答案：B
>
>解析：v-for不应该与v-if同时使用

### 9、以下写法推荐吗？(1分)

**A、推荐**

**B、不推荐**

```
MyScript.js
myCamelCaseName.css
i_love_underscores.html
1001-scripts.js
```

>答案：B
>
>解析：应推荐统一使用中杠的形式来连接英文单词

### 10、以下变量命名推荐吗？(1分)

**A、推荐**

**B、不推荐**

```
# JS
let UserName = "张三";
# CSS
.Left {
  width: 100px;
}
```

>答案：B
>
>解析：JS属性命名应该使用小驼峰的方式，字符串使用单引号。css类命名应该使用中杠去连接单词

### 11、Viewer.js如下所示的用法有问题吗？（5分）

**A、有问题**

**B、没有问题**

```
<template>
	<div>
		<img id="attachsViewer" :src="imageViewerSrc" alt="viewer">
		<el-button @click="handlePreview">预览图片</el-button>
	</div>
</template>
<script>
import Viewer from 'viewerjs';

export default {
	data() {
		return {
			imageViewerSrc: '',
			viewer: null
		};
	},
	methods: {
		/**
		 * 初始化图片预览
		 */
		initViewer() {
			this.viewer = new Viewer(document.getElementById('attachsViewer'), {
        navbar: false,
        toolbar: true
      });
		},
		/**
		 * 处理预览
		 */
		handlePreview() {
			this.viewer.show();
		}
	},
	mounted() {
		this.initViewer();
	}
};
</script>
```

>答案：A
>
>解析：使用第三方库时，组件销毁时未销毁第三方库的实例

### 12、以下代码有问题吗？（5分）

**A、有问题**

**B、没有问题**

```
<template>
  <ul>
    <li v-for="e in userListFilter" :key="e.age">{{e.name}}</li>
  </ul>
</template>

<script>
	export default {
		data() {
			return {
				userList: [
					{id: 'asdasd', code: 'zhangsan', name: '张三', age: 20},
					{id: 'ardaed', code: 'lisi', name: '李四', age: 18},
					{id: 'esadsd', code: 'wangwu', name: '王五', age: 25},
					{id: 'dsvasd', code: 'zhaoliu', name: '赵六', age: 28},
					{id: 'devasd', code: 'andy', name: '安迪', age: 20}
				]
			}
		},
		computed: {
			/**
       * 用户列表过滤，过滤年龄大于18岁的用户
       */
			userListFilter() {
				return this.userList.filter(e => e.age > 18);
			}
		}
	};
</script>

```

>答案：A
>
>解析：key属性应该绑定具有唯一标示的字段

### 13、Sortable.js如下所示的用法有问题吗？（5分）

**A、有问题**

**B、没有问题**

```
<template>
	<!-- 容器 -->
	<div class="container">
		<div v-for="e in dataList" :key="e">{{e}}</div>
	</div>
</template>
<script>
import Sortable from 'Sortable';

export default {
	data() {
		return {
			dataList: [1,2,3,4,5],
			sortable: null
		};
	},
	created() {
		this.initSortable();
	},
	methods: {
		/**
		 * 初始化拖拽组件
		 */
		initSortable() {
			let el = $('.container')[0];
			this.sortable = Sortable.create(el, {
				ghostClass: 'sortable-ghost',
				animation: 60,
				setData(dataTransfer) {
					dataTransfer.setData('Text', '');
				},
				onEnd: e => {
					let targetRow = this.dataList.splice(e.oldIndex, 1)[0];
					this.dataList.splice(e.newIndex, 0, targetRow);
				}
			});
		}
	},
	beforeDestroyed() {
		this.sortable.destroy();
	}
};
</script>
```

>答案：A
>
>解析：使用拖拽库时，涉及到获取DOM节点，created方法中执行initSortable，此时DOM未挂载，无法获取DOM实例，存在问题。initSortable方法应该在mounted勾子中执行

### 14、以下计算结果相等吗？（2分）

**A、相等**

**B、不相等**

```
let a = 1.01;

let b = 0.31;

let c = 0.7;

a === (b + c).toFixed(2);
```

>答案：B
>
>解析：toFixed方法会将数字转换成字符串，故与数字1不全等。

### 15、下列代码，判断是否存在问题？（10分）

**A、没有问题**

**B、有问题**

```
<template>
	<!-- 容器 -->
	<div>
		单价:
		<input v-model="price">
		数量:
		<input v-model="number">
		<button @click="handleClick">提交</button>
	</div>
</template>

<script>
import util from '@/assets/js/util';
import fetch from '@/config/fetch';

export default {
	data() {
		return {
			price: '',	//单价
			number: '',	//数量
			standard: '',	//标准
		}
	},
	methods: {
		/**
		 * 获取标准
		 */
		getStandard() {
			fetch.get('/xxx/xxxxxxx').then(({data}) => {
				this.standard = data;
			}).catch(err => {
				console.error(err);
			})
		},
		/**
		 * 处理提交
		 * 1、第一步，求出金额
		 * 2、第二步，与标准进行比较，相等时，执行提交操作
		 */
		handleClick() {
			if (util.isNotEmpty(this.price) && util.isNotEmpty(this.number)) {
				let amount = util.toNumber(this.price) * util.toNumber(this.number);
				if (amount === this.standard) {
					console.log('与标准相同，执行提交操作');
				}
			}
		}
	},
	mounted() {
		this.getStandard();
	}
}
</script>
```

>答案：B
>
>解析：代码存在问题，比较金额或者浮点数时，一律需要调用util.floatEqual()方法进行比较

### 16、下列代码，判断是否存在问题？（5分）

**A、没有问题**

**B、有问题**

```
<template>
  <!-- 容器 -->
  <div>
    <!-- 姓名渲染 -->
    <ul>
			<li v-for="(e, i) in nameList" :key="i">{{e}}</li>
		</ul>
    <!-- 姓名修改 -->
    <button @click="handleModify">修改姓名</button>
  </div>
</template>
<script>
import util from '@/assets/js/util';
import fetch from '@/config/fetch';

export default {
  data() {
    return {
      nameList: []
    };
  },
  methods: {
    /**
     * 获取姓名列表
     */
    getNameList() {
      fetch.get('/xx/xxxxx').then(({data}) => {
        this.nameList = data;
      }).catch(err => {
        console.error(err);
      })
    },
    /**
     * 执行修改，将第一个姓名改为安迪
     * 1、判断数组是否不为空
     * 2、当数组不为空时，将第一个姓名改为安迪
     */
    handleModify() {
      if (util.isNotEmpty(this.nameList)) {
        this.nameList[0] = '安迪';
      }
    }
  },
  mounted() {
    this.getNameList();
  }
};
</script>
```

>答案：B
>
>解析：将数组第一项修改时，不能直接通过数组下标来修改，需要使用Vue.set()方法

### 17、下列代码，判断是否存在问题？（5分）

**A、有问题**

**B、没有问题**

```
<template>
  <!-- 容器 -->
  <div>
    <!-- 用户总数： -->
    <span class="color-primary">{{data.total}}</span>
    <!-- 用户渲染： -->
    <ul>
			<li v-for="(e, i) in data.userList" :key="i">{{e.name}}</li>
		</ul>
  </div>
</template>
<script>
import util from '@/assets/js/util';
import fetch from '@/config/fetch';

export default {
  data() {
    return {
      data: {}
    };
  },
  methods: {
    /**
     * 获取用户数据
     */
    getUserList() {
      fetch.get('/xx/xxxxx').then(({data}) => {
      	//data中包含total属性与userList属性
      	this.data = data;
      }).catch(err => {
        console.error(err);
      })
    }
  },
  mounted() {
    this.getUserList();
  }
};
</script>
```

>答案：A
>
>解析：data属性声明时，为一个空对象属性，获取完用户数据之后，给data赋值，增加属性时，需要用到Vue.set()方法

### 18、以下代码有问题吗?（2分）

**A、有问题**

**B、没有问题**

```
<template>
  <el-tree :data="data" :props="{children: 'children', label: 'label'}" @node-click="handleNodeClick"></el-tree>
</template>
<script>
  export default {
    data() {
      return {
        data: [{
          label: '一级 1',
          children: [{
            label: '二级 1-1',
            children: [{
              label: '三级 1-1-1'
            }]
          }]
        }, {
          label: '一级 2',
          children: [{
            label: '二级 2-1',
            children: [{
              label: '三级 2-1-1'
            }]
          }, {
            label: '二级 2-2',
            children: [{
              label: '三级 2-2-1'
            }]
          }]
        }, {
          label: '一级 3',
          children: [{
            label: '二级 3-1',
            children: [{
              label: '三级 3-1-1'
            }]
          }, {
            label: '二级 3-2',
            children: [{
              label: '三级 3-2-1'
            }]
          }]
        }]
      };
    },
    methods: {
      handleNodeClick(data) {
        console.log(data);
      }
    }
  };
</script>
```

> 答案：A
>
> 解析：props绑定了一个匿名对象，每当页面有事件响应时，会产生一个新的匿名对象，造成组件重绘，从而影响性能

### 19、以下代码有问题吗?（2分）

**A、有问题**

**B、没有问题**

```
<template>
	<el-table :data="tableDataFilter()" style="width: 100%">
		<el-table-column prop="date" label="日期" width="180">
		</el-table-column>
		<el-table-column prop="name" label="姓名" width="180">
		</el-table-column>
		<el-table-column prop="address" label="地址">
		</el-table-column>
	</el-table>
</template>
<script>
export default {
	data() {
		return {
			tableData: [
				{
					date: '2016-05-02',
					name: '王小虎',
					age: 18,
					address: '上海市普陀区金沙江路 1518 弄'
				},
				{
					date: '2016-05-04',
					name: '王二虎',
					age: 16,
					address: '上海市普陀区金沙江路 1517 弄'
				},
				{
					date: '2016-05-01',
					name: '王三虎',
					age: 20,
					address: '上海市普陀区金沙江路 1519 弄'
				},
				{
					date: '2016-05-03',
					name: '王四虎',
					age: 25,
					address: '上海市普陀区金沙江路 1516 弄'
				}
			]
		};
	},
	methods: {
		/**
		 * 过滤出大于18岁的同学
		 */
		tableDataFilter() {
			return this.tableData.filter(e => e.age > 18);
		}
	}
};
</script>

```

> 答案：A
>
> 解析：el-table组件，绑定的data属性，应该是Array类型，而不应该绑定一个函数的执行，绑定函数执行易造成组件重绘，有性能问题。组件在使用的时候，要特别注意属性类型问题。

### 20、以下代码有问题吗?（5分）

**A、有问题**

**B、没有问题**

```
<template>
	<el-form :model="data" ref="form" label-width="0">
		<el-table :data="data.tableData" style="width: 100%">
			<el-table-column prop="date" label="日期" width="180">
			</el-table-column>
			<el-table-column prop="name" label="姓名" width="180">
        <template slot-scope="scope">
          <el-form-item label="" :prop="`tableData.${scope.$index}.name`" :rules="[{ required: true, message: '请输入姓名', trigger: 'blur' }]">
            <el-input v-model="scope.row.name"></el-input>
          </el-form-item>
				</template>
			</el-table-column>
			<el-table-column prop="address" label="地址">
        <template slot-scope="scope">
          <el-form-item label="" :prop="`tableData.${scope.$index}.address`" :rules="[{ required: true, message: '请输入地址', trigger: 'blur' }]">
            <el-input v-model="scope.row.address"></el-input>
          </el-form-item>
				</template>
			</el-table-column>
      <el-table-column label="操作">
        <template slot-scope="scope">
          <el-button size="mini" @click="handleRemove(scope.$index)">删除</el-button>
				</template>
			</el-table-column>
		</el-table>
    <el-button @click="handleAdd">新增行</el-button>
    <el-button @click="handleSubmit">提交表单</el-button>
	</el-form>
</template>
<script>
export default {
	data() {
		return {
			data: {
				tableData: [
					{
						id: '1234',
						date: '2016-05-02',
						name: '王小虎',
						age: 18,
						address: '上海市普陀区金沙江路 1518 弄'
					},
					{
						id: '1xs4',
						date: '2016-05-04',
						name: '王二虎',
						age: 16,
						address: '上海市普陀区金沙江路 1517 弄'
					},
					{
						id: '2xs4',
						date: '2016-05-01',
						name: '王三虎',
						age: 20,
						address: '上海市普陀区金沙江路 1519 弄'
					},
					{
						id: '2xs5',
						date: '2016-05-03',
						name: '王四虎',
						age: 25,
						address: '上海市普陀区金沙江路 1516 弄'
					}
				]
			}
		};
  },
  methods: {
    /**
     * 处理新增
     */
    handleAdd() {
      this.data.tableData.push({
        date: '',
        name: '',
        age: '',
        address: '上海市普陀区金沙江路 1516 弄'
      });
    },
    /**
     * 处理删除
     */
    handleRemove(index) {
      this.data.tableData.splice(index, 1);
    },
    /**
     * 处理提交
     */
    handleSubmit() {
      this.$refs.form.validate(valid => {
        if (valid) {
          //校验数据成功，提交表单
        } else {
          return false;
        }
      });
    }
  }
};
</script>

```

>答案：A
>
>解析：涉及到表格内表单录入功能，el-table组件需要添加row-key属性，否则增删减行时，校验会有问题

## 二、简答题

### 1、业务系统中编写代码时，复制属性应该使用util里的什么方法?（5分）

>答案：copyProperties

### 2、业务系统中编写代码时，人名币大写如何转换？（5分）

> 答案：filter.formatRMB方法

### 3、this.$set()的使用场景？（5分）

>答案：1、给声明的数据对象添加属性。2、动态操作数组

### 4、如何比较浮点数或者金额？（5分）

>util.floatEqual方法

### 5、以下代码存在的问题?（5分）

```
<!-- pa-user页面 -->
<template>
	<div class="div">
	</div>
</template>
<style lang='scss'>
	.div {
		width: 200px;
		height: 100px;
	}
</style>
```

>1、class类名未添加命名空间
>
>2、样式定义时，未添加作用域scoped属性，可能会对其他页面样式产生影响

### 6、以下代码存在的问题?（5分）

```
<!-- pa-role页面 -->
<template>
	<div class="pa-role-container">
	</div>
</template>
<style lang='scss' scoped>
@import '~@/modules/pct/common/pct.scss';
.pa-role-container {
  width: 200px;
  height: 100px;
}
</style>
```

> 跨模块依赖，pa模块依赖了pct模块

### 7、以下代码存在的问题?（5分）

```
import { mapGetters } from 'vuex';
import { GET_LOGIN_INFO, GET_CONTEXT_AGY_ACB } from '@/store/login';
import { PAGE_TYPE } from '@/modules/pct/common/constant';
import { SWITCH, FILE_TYPE, CONTEXT_PATH } from '@/assets/js/constant';

<script>
	export default {
		data() {
			return {
				agyAcb: {
					agyCode: '',
					acbCode: ''
				}
			}
		},
		created() {
			let {agyCode, acbCode} = this.GET_CONTEXT_AGY_ACB;
		},
		computed: {
			...mapGetters([GET_CONTEXT_AGY_ACB, GET_LOGIN_INFO]);
		}
	}
<script>
```

>存在无效的引用，应该删除